
<div class="account-update">
    <h1><%= title || "Update Account" %></h1>

    <%- messages() %>

    <% if (errors && errors.length > 0) { %>
        <ul class="notice">
        <% errors.forEach(error => { %>
            <li><%= error %></li>
        <% }) %>
        </ul>
    <% } %>

    <!-- Account Update Form -->
    <form action="/account/update" method="POST" novalidate>
        <input type="hidden" name="account_id" value="<%= locals.accountData ? locals.accountData.account_id : '' %>">
        <fieldset>
        <legend>Account Update</legend>
        <div class="form-group">
            <label for="account_firstname">First Name:</label>
            <input type="text" id="account_firstname" name="account_firstname" value="<%= locals.accountData ? locals.accountData.account_firstname : '' %>" required aria-required="true">
        </div>
        <div class="form-group">
            <label for="account_lastname">Last Name:</label>
            <input type="text" id="account_lastname" name="account_lastname" value="<%= locals.accountData ? locals.accountData.account_lastname : '' %>" required aria-required="true">
        </div>
        <div class="form-group">
            <label for="account_email">Email:</label>
            <input type="email" id="account_email" name="account_email" value="<%= locals.accountData ? locals.accountData.account_email : '' %>" required aria-required="true">
        </div>
        <div class="form-group">
            <input type="submit" value="Update Account" class="button">
        </div>
        </fieldset>
    </form>
    <br>
    <!-- Change Password Form -->
    <form action="/account/update-password" method="POST" novalidate>
        <input type="hidden" name="account_id" value="<%= locals.accountData ? locals.accountData.account_id : '' %>">
        <fieldset>
        <legend>Change Password</legend>
        <div class="form-group">
            <label for="account_password">New Password:</label>
            <input type="password" id="account_password" name="account_password" required aria-required="true" minlength="12" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).{12,}" title="Password must be at least 12 characters long, including uppercase, lowercase, number, and special character (!@#$%^&*).">
            <p class="hint">Enter a new password (min 12 chars, including uppercase, lowercase, number, and special character like !@#$%^&*). This will replace your current password.</p>
        </div>
        <div class="form-group">
            <input type="submit" value="Change Password" class="button">
        </div>
        </fieldset>
    </form>
</div>